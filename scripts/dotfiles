#!/bin/bash

ORANGE=$'\e[38;05;202m'
BOLD=$'\e[1m'
R=$'\e[0m'

if ! [ -n "$1" ]; then
	cd $DOTFILES;
	return;
fi

ACTION=$1
shift

declare -A funcs
funcs[test]=testf;
funcs[update]=update;
funcs[upgrade]=upgrade;

testf() {
	echo "I'm the testf function"
}

update() {
	echo "Reloading ${ORANGE}${BOLD}.dotfiles${R}"
	source ${DOTFILES}/.dotfiles
}

upgrade() {
	echo "${ORANGE}${BOLD}Pulling repository...${R}"
	odir=$(pwd)
	cd ${DOTFILES}
	git pull origin master
	update
	cd ${odir}
}

${funcs[${ACTION}]}